const myp=document.getElementById('test1');myp.innerHTML='Button';let timer=setInterval(update,500);function update(){fetch('/button').then((e=>e.json())).then((e=>{'1'==e.button&&(myp.innerHtml=e.button,playspeak(),SendImageServer(TakePhoto()))}))}function playspeak(){}function TakePhoto(){let e=document.createElement('canvas'),t=document.getElementById('video');e.width=1920,e.height=1080,e.getContext('2d').drawImage(t,0,0,e.width,e.height);let n=e.toDataURL('image/jpeg');return console.log(n),n}function SendImageServer(e){fetch('https://www.helseviden.dk/juleb/upload1.php',{method:'POST',headers:{'Content-Type':'application/json','Access-Control-Allow-Origin':'*'},body:JSON.stringify({image:e})}).then((e=>e.json())).then((e=>{console.log('Success:',e)})).catch((e=>{console.error('Error:',e)}))}const constraints={audio:!1,video:{width:1280,height:720}};navigator.mediaDevices.getUserMedia(constraints).then((e=>{const t=document.querySelector('video');t.srcObject=e,t.onloadedmetadata=()=>{t.play()}})).catch((e=>{console.error(`${e.name}: ${e.message}`)}));

		fetch('127.0.1.1:300', {
			method: 'POST',
			headers: {
				'Content-Type': 'application/json',
			},
			body: JSON.stringify({ image: image })
		})
		.then(response => response.json())
		.then(data => {
			console.log('Success:', data);
		})
		.catch((error) => {
			console.error('Error:', error);
		});